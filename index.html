<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ù–∞—à 2024 –≥–æ–¥ ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        
        :root {
            --story-height: 92vh;
            --story-margin: 4vh;
            --story-radius: 40px;
            --peek-height: 30px;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: #000;
            color: white;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            position: relative;
        }
        
        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å–µ—Ö —Å—Ç–æ—Ä–∏—Å - –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å peek */
        .stories-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
            padding: var(--story-margin) 0;
        }
        
        .stories-container::-webkit-scrollbar {
            display: none;
        }
        
        /* –ö–∞–∂–¥–∞—è —Å—Ç–æ—Ä–∏—Å */
        .story-slide {
            width: 100vw;
            height: var(--story-height);
            min-height: var(--story-height);
            margin: 0 0 var(--story-margin) 0;
            position: relative;
            scroll-snap-align: start;
            overflow: hidden;
        }
        
        /* –í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∑–∞–∫—Ä—É–≥–ª–µ–Ω–∏—è–º–∏ */
        .story-visual {
            position: absolute;
            top: 0;
            left: 5vw;
            right: 5vw;
            height: 100%;
            border-radius: var(--story-radius);
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        /* Peek-—ç—Ñ—Ñ–µ–∫—Ç - —Ç–æ—Ä—á–∞—â–∏–π —Å–ª–µ–¥—É—é—â–∏–π —Å–ª–∞–π–¥ */
        .story-slide:not(:last-child)::after {
            content: '';
            position: absolute;
            bottom: calc(-1 * var(--peek-height));
            left: 5vw;
            right: 5vw;
            height: var(--peek-height);
            background: inherit;
            border-radius: 0 0 var(--story-radius) var(--story-radius);
            z-index: 2;
            opacity: 0.8;
            filter: brightness(1.1);
        }
        
        /* –ö–æ–Ω—Ç–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ —Å—Ç–æ—Ä–∏—Å */
        .story-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 25px;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        .story-emoji {
            font-size: 5.5rem;
            margin-bottom: 25px;
            display: block;
            animation: float 3s ease-in-out infinite;
        }
        
        .story-title {
            font-family: 'Caveat', cursive;
            font-size: 3.5rem;
            margin-bottom: 25px;
            line-height: 1.2;
            font-weight: 700;
            max-width: 90%;
        }
        
        .story-text {
            font-size: 1.8rem;
            line-height: 1.6;
            margin-bottom: 25px;
            max-width: 90%;
            padding: 0 10px;
        }
        
        .story-stat-number {
            font-size: 6.5rem;
            font-weight: 900;
            line-height: 1;
            margin-bottom: 20px;
            display: block;
        }
        
        .story-stat-label {
            font-size: 1.9rem;
            line-height: 1.4;
            opacity: 0.95;
            max-width: 90%;
        }
        
        /* Message bubble */
        .message-bubble {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px;
            margin: 25px 0;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .message-author {
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #ffcc00;
        }
        
        .message-text {
            font-size: 1.7rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .message-date {
            font-size: 1.1rem;
            opacity: 0.8;
            text-align: right;
        }
        
        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–∞–π–¥–∞ */
        .slide-indicator {
            position: fixed;
            top: 25px;
            right: 25px;
            background: rgba(0,0,0,0.5);
            color: white;
            padding: 10px 18px;
            border-radius: 25px;
            font-size: 1.1rem;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            font-weight: 600;
        }
        
        /* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —Å–≤–∞–π–ø–∞ */
        .swipe-hint {
            position: fixed;
            bottom: 30px;
            left: 0;
            right: 0;
            text-align: center;
            z-index: 1000;
            animation: fadeInOut 2s infinite;
            pointer-events: none;
        }
        
        .swipe-hint i {
            font-size: 2.2rem;
            color: white;
            opacity: 0.7;
            background: rgba(0,0,0,0.3);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã */
        .gradient-text {
            background: linear-gradient(45deg, #ff6b8b, #ffa500, #ffcc00, #6a5af9);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 5s ease infinite;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes fadeInOut {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }
        
        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ —Å–º–µ–Ω—ã —Å–ª–∞–π–¥–æ–≤ */
        .slide-up {
            animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .slide-down {
            animation: slideDown 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 768px) {
            :root {
                --story-height: 90vh;
                --story-margin: 5vh;
                --story-radius: 35px;
            }
            
            .story-title { font-size: 3rem; }
            .story-text { font-size: 1.6rem; }
            .story-stat-number { font-size: 5.5rem; }
            .story-stat-label { font-size: 1.7rem; }
            .story-emoji { font-size: 4.5rem; }
            .message-text { font-size: 1.5rem; }
        }
        
        @media (max-width: 480px) {
            :root {
                --story-height: 88vh;
                --story-margin: 6vh;
                --story-radius: 30px;
            }
            
            .story-visual {
                left: 3vw;
                right: 3vw;
            }
            
            .story-slide:not(:last-child)::after {
                left: 3vw;
                right: 3vw;
            }
            
            .story-title { font-size: 2.6rem; }
            .story-text { font-size: 1.4rem; }
            .story-stat-number { font-size: 4.5rem; }
            .story-stat-label { font-size: 1.5rem; }
            .story-emoji { font-size: 4rem; }
            .message-text { font-size: 1.3rem; }
            .slide-indicator {
                top: 20px;
                right: 20px;
                font-size: 1rem;
                padding: 8px 15px;
            }
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ —Å–≤–∞–π–ø–µ */
        .swipe-active {
            transition: transform 0.3s ease-out;
        }
    </style>
</head>
<body>
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–ª–∞–π–¥–∞ -->
    <div class="slide-indicator" id="slideIndicator">1/15</div>
    
    <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —Å–≤–∞–π–ø–∞ -->
    <div class="swipe-hint" id="swipeHint">
        <i class="fas fa-chevron-up"></i>
    </div>
    
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ –≤—Å–µ–º–∏ —Å—Ç–æ—Ä–∏—Å -->
    <div class="stories-container" id="storiesContainer">
        <!-- –°—Ç–æ—Ä–∏—Å –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
    </div>

    <script>
        // ========== –î–ê–ù–ù–´–ï –î–õ–Ø –°–¢–û–†–ò–° ==========
        const storiesData = {
            year: 2024,
            partnerName: "–ê–Ω—è",
            
            stories: [
                {
                    type: "intro",
                    emoji: "‚ù§Ô∏è",
                    title: "–ù–∞—à 2024 –≥–æ–¥",
                    text: "–ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è –Ω–∞—à–µ–π –ª—é–±–≤–∏. –°–≤–∞–π–ø–∞–π –≤–≤–µ—Ä—Ö, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –Ω–∞—à–∏ –ª—É—á—à–∏–µ –º–æ–º–µ–Ω—Ç—ã!",
                    background: "linear-gradient(135deg, #667eea 0%, #764ba2 100%)"
                },
                {
                    type: "stat",
                    emoji: "üí¨",
                    title: "–¶–∏—Ñ—Ä–∞ –≥–æ–¥–∞",
                    value: "12,478",
                    label: "—Å–æ–æ–±—â–µ–Ω–∏–π –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –¥—Ä—É–≥ –¥—Ä—É–≥—É",
                    background: "linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"
                },
                {
                    type: "stat",
                    emoji: "üìÖ",
                    title: "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å",
                    value: "34",
                    label: "—Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Å—Ä–µ–¥–Ω–µ–º –∑–∞ –¥–µ–Ω—å",
                    background: "linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"
                },
                {
                    type: "stat",
                    emoji: "üë´",
                    title: "–ë–∞–ª–∞–Ω—Å",
                    value: "50/50",
                    label: "–ü–æ—á—Ç–∏ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ: —Ç—ã 6,136, —è ‚Äî 6,342",
                    background: "linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"
                },
                {
                    type: "moment",
                    emoji: "üçù",
                    title: "14 —Ñ–µ–≤—Ä–∞–ª—è",
                    text: "–ù–∞—à –ø–µ—Ä–≤—ã–π —É–∂–∏–Ω –≤–º–µ—Å—Ç–µ! –ü–æ–º–Ω–∏—à—å —Ç–≤–æ—é –ø–∞—Å—Ç—É? –û–Ω–∞ –±—ã–ª–∞ –Ω–µ–º–Ω–æ–≥–æ –ø–µ—Ä–µ—Å–æ–ª–µ–Ω–∞, –Ω–æ —ç—Ç–æ –±—ã–ª —Å–∞–º—ã–π –≤–∫—É—Å–Ω—ã–π —É–∂–∏–Ω –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏ ‚ù§Ô∏è",
                    background: "linear-gradient(135deg, #667eea 0%, #764ba2 100%)"
                },
                {
                    type: "words",
                    emoji: "üó£Ô∏è",
                    title: "–ß–∞—Å—Ç—ã–µ —Å–ª–æ–≤–∞",
                    text: "¬´–õ—é–±–æ–≤—å¬ª ‚Äî 324 —Ä–∞–∑–∞<br>¬´–°–∫—É—á–∞—é¬ª ‚Äî 287 —Ä–∞–∑<br>¬´–ö–æ—Ç–∏–∫¬ª ‚Äî 256 —Ä–∞–∑<br>¬´–û–±–Ω–∏–º–∞—é¬ª ‚Äî 176 —Ä–∞–∑",
                    background: "linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"
                },
                {
                    type: "message",
                    emoji: "üíå",
                    title: "–õ—É—á—à–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
                    author: "–ê–Ω—è",
                    date: "12 –º–∞—è, 23:42",
                    text: "–¢—ã –ª—É—á—à–µ–µ, —á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å —Å–æ –º–Ω–æ–π –≤ —ç—Ç–æ–º –≥–æ–¥—É. –ò–Ω–æ–≥–¥–∞ –ø–µ—Ä–µ—á–∏—Ç—ã–≤–∞—é –Ω–∞—à–∏ –ø–µ—Ä–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —É–ª—ã–±–∞—é—Å—å –∫–∞–∫ –¥—É—Ä–æ—á–∫–∞ üòä",
                    background: "linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"
                },
                {
                    type: "stat",
                    emoji: "üì∏",
                    title: "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏",
                    value: "876 —Ñ–æ—Ç–æ",
                    label: "–∏ 245 –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π",
                    background: "linear-gradient(135deg, #a9c9ff 0%, #ffbbec 100%)"
                },
                {
                    type: "moment",
                    emoji: "üê±",
                    title: "3 –æ–∫—Ç—è–±—Ä—è",
                    text: "–î–µ–Ω—å, –∫–æ–≥–¥–∞ –º—ã —Ä–µ—à–∏–ª–∏ –∑–∞–≤–µ—Å—Ç–∏ –∫–æ—Ç–∏–∫–∞! –ü–æ–º–Ω–∏—à—å, –∫–∞–∫ –¥–æ–ª–≥–æ –≤—ã–±–∏—Ä–∞–ª–∏ –∏–º—è? –ù–∞—à–µ–º—É –ú—É—Ä–∑–∏–∫—É —É–∂–µ 2 –º–µ—Å—è—Ü–∞ ü•∞",
                    background: "linear-gradient(135deg, #d299c2 0%, #fef9d7 100%)"
                },
                {
                    type: "message",
                    emoji: "‚ú®",
                    title: "–ï—â—ë –æ–¥–Ω–æ –ø–∏—Å—å–º–æ",
                    author: "–¢—ã",
                    date: "7 —Å–µ–Ω—Ç—è–±—Ä—è, 00:03",
                    text: "–¢–æ–ª—å–∫–æ —á—Ç–æ –æ—Å–æ–∑–Ω–∞–ª, —á—Ç–æ –¥—É–º–∞—é –æ —Ç–µ–±–µ –∫–∞–∂–¥—É—é —Å–≤–æ–±–æ–¥–Ω—É—é –º–∏–Ω—É—Ç—É. –≠—Ç–æ –∏ –±–µ–∑—É–º–∏–µ, –∏ —Å–∞–º–æ–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ —á—É–≤—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.",
                    background: "linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%)"
                },
                {
                    type: "stat",
                    emoji: "üòä",
                    title: "–≠–º–æ—Ü–∏–∏",
                    value: "1,543",
                    label: "—Å—Ç–∏–∫–µ—Ä–∞ —Å —É–ª—ã–±–∫–∞–º–∏ –∏ —Å–µ—Ä–¥–µ—á–∫–∞–º–∏",
                    background: "linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)"
                },
                {
                    type: "moment",
                    emoji: "üéÇ",
                    title: "12 –Ω–æ—è–±—Ä—è",
                    text: "–¢–≤–æ–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è! –Ø —Ç–∞–∫ –≤–æ–ª–Ω–æ–≤–∞–ª—Å—è, –≥–æ—Ç–æ–≤—è —Å—é—Ä–ø—Ä–∏–∑. –¢–≤–æ–∏ –≥–ª–∞–∑–∞, –∫–æ–≥–¥–∞ —Ç—ã —É–≤–∏–¥–µ–ª–∞ —Ç–æ—Ä—Ç ‚Äî —ç—Ç–æ –±–µ—Å—Ü–µ–Ω–Ω–æ.",
                    background: "linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%)"
                },
                {
                    type: "stat",
                    emoji: "‚è∞",
                    title: "–†–µ–∫–æ—Ä–¥",
                    value: "8 —á–∞—Å–æ–≤",
                    label: "42 –º–∏–Ω—É—Ç—ã ‚Äî –Ω–∞—à —Å–∞–º—ã–π –¥–æ–ª–≥–∏–π —Ä–∞–∑–≥–æ–≤–æ—Ä",
                    background: "linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%)"
                },
                {
                    type: "stat",
                    emoji: "üî•",
                    title: "–°–∞–º—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π",
                    value: "–ú–∞—Ä—Ç",
                    label: "–ò–º–µ–Ω–Ω–æ –≤ –º–∞—Ä—Ç–µ –º—ã –æ–±—â–∞–ª–∏—Å—å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ",
                    background: "linear-gradient(135deg, #fa709a 0%, #fee140 100%)"
                },
                {
                    type: "outro",
                    emoji: "üåü",
                    title: "–°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ!",
                    text: "–ó–∞ –∫–∞–∂–¥—ã–π —Å–º–µ—Ö, –∑–∞ –∫–∞–∂–¥–æ–µ ¬´–¥–æ–±—Ä–æ–µ —É—Ç—Ä–æ¬ª, –∑–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É —ç—Ç–æ–≥–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–≥–æ –≥–æ–¥–∞. –Ø –ª—é–±–ª—é —Ç–µ–±—è –±–æ–ª—å—à–µ, —á–µ–º –≤—Å–µ —ç—Ç–∏ —Ü–∏—Ñ—Ä—ã –º–æ–≥—É—Ç –ø–æ–∫–∞–∑–∞—Ç—å. ‚ù§Ô∏è",
                    background: "linear-gradient(135deg, #ff6b8b 0%, #6a5af9 100%)"
                }
            ]
        };

        // ========== –ü–ï–†–ï–ú–ï–ù–ù–´–ï –î–õ–Ø –°–í–ê–ô–ü–ê ==========
        let currentSlideIndex = 0;
        const totalSlides = storiesData.stories.length;
        const container = document.getElementById('storiesContainer');
        const slideIndicator = document.getElementById('slideIndicator');
        const swipeHint = document.getElementById('swipeHint');
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–≤–∞–π–ø–∞
        let startY = 0;
        let startTime = 0;
        let isSwiping = false;
        let isAnimating = false;
        const SWIPE_THRESHOLD = 50; // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ —Å–≤–∞–π–ø–∞
        const VELOCITY_THRESHOLD = 0.3; // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Å–≤–∞–π–ø–∞

        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üì± –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–∏—Å —Å peek-—ç—Ñ—Ñ–µ–∫—Ç–æ–º –∑–∞–≥—Ä—É–∂–µ–Ω—ã!');
            
            // –°–æ–∑–¥–∞–µ–º —Å—Ç–æ—Ä–∏—Å
            createStories();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è
            setupEvents();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
            updateSlideIndicator();
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                swipeHint.style.opacity = '0';
            }, 5000);
        });

        // ========== –§–£–ù–ö–¶–ò–ò ==========
        function createStories() {
            container.innerHTML = '';
            
            storiesData.stories.forEach((story, index) => {
                const slide = document.createElement('div');
                slide.className = 'story-slide';
                slide.id = `story-${index}`;
                
                const visual = document.createElement('div');
                visual.className = 'story-visual';
                visual.style.background = story.background;
                
                let contentHTML = '';
                
                // –ö–æ–Ω—Ç–µ–Ω—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
                switch (story.type) {
                    case 'intro':
                    case 'outro':
                    case 'moment':
                        contentHTML = `
                            <div class="story-content">
                                <div class="story-emoji gradient-text">${story.emoji}</div>
                                <h1 class="story-title gradient-text">${story.title}</h1>
                                <p class="story-text">${story.text}</p>
                            </div>
                        `;
                        break;
                        
                    case 'stat':
                        if (story.text) {
                            contentHTML = `
                                <div class="story-content">
                                    <div class="story-emoji gradient-text">${story.emoji}</div>
                                    <h1 class="story-title gradient-text">${story.title}</h1>
                                    <p class="story-text">${story.text}</p>
                                </div>
                            `;
                        } else {
                            contentHTML = `
                                <div class="story-content">
                                    <div class="story-emoji gradient-text">${story.emoji}</div>
                                    <h1 class="story-title gradient-text">${story.title}</h1>
                                    <span class="story-stat-number gradient-text">${story.value}</span>
                                    <p class="story-stat-label">${story.label}</p>
                                </div>
                            `;
                        }
                        break;
                        
                    case 'words':
                        contentHTML = `
                            <div class="story-content">
                                <div class="story-emoji gradient-text">${story.emoji}</div>
                                <h1 class="story-title gradient-text">${story.title}</h1>
                                <p class="story-text">${story.text}</p>
                            </div>
                        `;
                        break;
                        
                    case 'message':
                        contentHTML = `
                            <div class="story-content">
                                <div class="story-emoji gradient-text">${story.emoji}</div>
                                <h1 class="story-title gradient-text">${story.title}</h1>
                                <div class="message-bubble">
                                    <div class="message-author">${story.author}</div>
                                    <div class="message-text">${story.text}</div>
                                    <div class="message-date">${story.date}</div>
                                </div>
                            </div>
                        `;
                        break;
                }
                
                visual.innerHTML = contentHTML;
                slide.appendChild(visual);
                container.appendChild(slide);
            });
            
            console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${totalSlides} —Å—Ç–æ—Ä–∏—Å —Å peek-—ç—Ñ—Ñ–µ–∫—Ç–æ–º`);
        }

        function setupEvents() {
            // –°–æ–±—ã—Ç–∏—è –¥–ª—è —Å–≤–∞–π–ø–∞ –≤–Ω–∏–∑
            container.addEventListener('touchstart', handleTouchStart, { passive: true });
            container.addEventListener('touchmove', handleTouchMove, { passive: false });
            container.addEventListener('touchend', handleTouchEnd);
            
            // –ö–ª–∏–∫ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Å–ø–æ—Å–æ–±)
            container.addEventListener('click', handleClick);
            
            // –ö–ª–∞–≤–∏—à–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
            document.addEventListener('keydown', handleKeyDown);
            
            // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª (–¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞)
            container.addEventListener('scroll', handleScroll);
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏
            container.addEventListener('touchstart', () => {
                swipeHint.style.opacity = '0';
            });
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª –∫–æ–ª–µ—Å–∏–∫–æ–º –º—ã—à–∏
            container.addEventListener('wheel', handleWheel, { passive: false });
        }

        function handleTouchStart(e) {
            if (e.touches.length !== 1 || isAnimating) return;
            
            startY = e.touches[0].clientY;
            startTime = Date.now();
            isSwiping = true;
        }

        function handleTouchMove(e) {
            if (!isSwiping || e.touches.length !== 1 || isAnimating) return;
            
            const currentY = e.touches[0].clientY;
            const diffY = currentY - startY;
            
            // –ï—Å–ª–∏ —Å–≤–∞–π–ø –≤–≤–µ—Ä—Ö (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π diffY) - –±–ª–æ–∫–∏—Ä—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–∫—Ä–æ–ª–ª
            if (diffY < 0) {
                e.preventDefault();
            }
        }

        function handleTouchEnd(e) {
            if (!isSwiping || isAnimating) return;
            
            const endY = e.changedTouches[0].clientY;
            const diffY = endY - startY;
            const endTime = Date.now();
            const duration = endTime - startTime;
            const velocity = Math.abs(diffY) / duration;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Å–∏–ª—É —Å–≤–∞–π–ø–∞
            if (Math.abs(diffY) > SWIPE_THRESHOLD || velocity > VELOCITY_THRESHOLD) {
                if (diffY < 0 && currentSlideIndex < totalSlides - 1) {
                    // –°–≤–∞–π–ø –≤–≤–µ—Ä—Ö - —Å–ª–µ–¥—É—é—â–∏–π —Å–ª–∞–π–¥
                    goToSlide(currentSlideIndex + 1, 'up');
                } else if (diffY > 0 && currentSlideIndex > 0) {
                    // –°–≤–∞–π–ø –≤–Ω–∏–∑ - –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–ª–∞–π–¥
                    goToSlide(currentSlideIndex - 1, 'down');
                } else {
                    // –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Å–º–µ–Ω—ã - –æ—Å—Ç–∞—ë–º—Å—è –Ω–∞ –º–µ—Å—Ç–µ
                    goToSlide(currentSlideIndex);
                }
            } else {
                // –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π —Å–≤–∞–π–ø - –æ—Å—Ç–∞—ë–º—Å—è –Ω–∞ –º–µ—Å—Ç–µ
                goToSlide(currentSlideIndex);
            }
            
            isSwiping = false;
        }

        function handleClick(e) {
            if (isAnimating) return;
            
            // –ö–ª–∏–∫ –ø–æ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞ - —Å–ª–µ–¥—É—é—â–∏–π —Å–ª–∞–π–¥
            const clickY = e.clientY;
            const screenHeight = window.innerHeight;
            
            if (clickY > screenHeight * 0.7 && currentSlideIndex < totalSlides - 1) {
                goToSlide(currentSlideIndex + 1, 'up');
            } else if (clickY < screenHeight * 0.3 && currentSlideIndex > 0) {
                goToSlide(currentSlideIndex - 1, 'down');
            }
        }

        function handleKeyDown(e) {
            if (isAnimating) return;
            
            switch(e.key) {
                case 'ArrowDown':
                case ' ':
                    if (currentSlideIndex < totalSlides - 1) {
                        goToSlide(currentSlideIndex + 1, 'up');
                    }
                    break;
                case 'ArrowUp':
                    if (currentSlideIndex > 0) {
                        goToSlide(currentSlideIndex - 1, 'down');
                    }
                    break;
            }
        }

        function handleScroll() {
            if (isSwiping || isAnimating) return;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏ —Ä—É—á–Ω–æ–º —Å–∫—Ä–æ–ª–ª–µ
            updateSlideFromScroll();
        }

        function handleWheel(e) {
            if (isAnimating) return;
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª –∫–æ–ª–µ—Å–∏–∫–æ–º –µ—Å–ª–∏ –∞–Ω–∏–º–∞—Ü–∏—è –∏–¥–µ—Ç
            if (Math.abs(e.deltaY) > 50) {
                e.preventDefault();
                
                if (e.deltaY > 0 && currentSlideIndex < totalSlides - 1) {
                    // –°–∫—Ä–æ–ª–ª –≤–Ω–∏–∑ - —Å–ª–µ–¥—É—é—â–∏–π —Å–ª–∞–π–¥
                    goToSlide(currentSlideIndex + 1, 'up');
                } else if (e.deltaY < 0 && currentSlideIndex > 0) {
                    // –°–∫—Ä–æ–ª–ª –≤–≤–µ—Ä—Ö - –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–ª–∞–π–¥
                    goToSlide(currentSlideIndex - 1, 'down');
                }
            }
        }

        function updateSlideFromScroll() {
            const scrollTop = container.scrollTop;
            const slideHeight = container.children[0].offsetHeight + 
                              parseFloat(getComputedStyle(container.children[0]).marginBottom);
            const newIndex = Math.round(scrollTop / slideHeight);
            
            if (newIndex !== currentSlideIndex && newIndex >= 0 && newIndex < totalSlides) {
                currentSlideIndex = newIndex;
                updateSlideIndicator();
            }
        }

        function goToSlide(index, direction = null) {
            if (index < 0 || index >= totalSlides || isAnimating) return;
            
            isAnimating = true;
            const prevIndex = currentSlideIndex;
            currentSlideIndex = index;
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Å–ª–∞–π–¥—É
            const slide = document.getElementById(`story-${index}`);
            if (slide) {
                // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
                if (direction === 'up' && prevIndex < index) {
                    slide.classList.add('slide-up');
                } else if (direction === 'down' && prevIndex > index) {
                    slide.classList.add('slide-down');
                }
                
                // –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª
                container.scrollTo({
                    top: slide.offsetTop,
                    behavior: 'smooth'
                });
                
                // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
                setTimeout(() => {
                    slide.classList.remove('slide-up', 'slide-down');
                    isAnimating = false;
                }, 400);
            }
            
            updateSlideIndicator();
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–µ—Ä–≤—ã–π —Å–ª–∞–π–¥
            if (currentSlideIndex > 0) {
                swipeHint.style.opacity = '0';
            }
        }

        function updateSlideIndicator() {
            slideIndicator.textContent = `${currentSlideIndex + 1}/${totalSlides}`;
        }

        // –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª —á–µ—Ä–µ–∑ 8 —Å–µ–∫—É–Ω–¥ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è
        let inactivityTimer;
        function resetInactivityTimer() {
            clearTimeout(inactivityTimer);
            inactivityTimer = setTimeout(() => {
                if (currentSlideIndex < totalSlides - 1 && !isAnimating) {
                    goToSlide(currentSlideIndex + 1, 'up');
                }
            }, 8000);
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è
        document.addEventListener('touchstart', resetInactivityTimer);
        document.addEventListener('click', resetInactivityTimer);
        resetInactivityTimer();

        // –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
        window.storiesApp = {
            nextSlide: () => goToSlide(currentSlideIndex + 1, 'up'),
            prevSlide: () => goToSlide(currentSlideIndex - 1, 'down'),
            goToSlide: goToSlide,
            currentSlide: () => currentSlideIndex + 1,
            totalSlides: totalSlides
        };
        
        console.log('‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ! –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: —Å–≤–∞–π–ø –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑ –∏–ª–∏ —Å—Ç—Ä–µ–ª–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã');
    </script>
</body>
</html>