<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ù–∞—à 2024 –≥–æ–¥ –≤ —Å—Ç–æ—Ä–∏—Å ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        :root {
            --story-height: 90vh;
            --story-margin: 5vh;
            --story-radius: 40px;
            --accent-color: #ff6b8b;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            overflow-x: hidden;
            height: 100vh;
            position: relative;
        }
        
        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å–µ—Ö —Å—Ç–æ—Ä–∏—Å */
        .stories-container {
            position: relative;
            height: 100vh;
            width: 100%;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }
        
        /* –ö–∞–∂–¥–∞—è —Å—Ç–æ—Ä–∏—Å */
        .story-slide {
            height: var(--story-height);
            min-height: var(--story-height);
            margin: var(--story-margin) auto;
            border-radius: var(--story-radius);
            position: relative;
            scroll-snap-align: start;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            overflow: hidden;
            transition: transform 0.3s ease;
            width: 95%;
            max-width: 450px;
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç "peek" - –≤–∏–¥–Ω–æ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç–æ—Ä–∏—Å */
        .story-slide:not(:last-child)::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 20px;
            right: 20px;
            height: 40px;
            background: inherit;
            border-radius: 0 0 var(--story-radius) var(--story-radius);
            z-index: 2;
            opacity: 0.7;
        }
        
        /* –ö–æ–Ω—Ç–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ —Å—Ç–æ—Ä–∏—Å */
        .story-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 25px;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–µ–∫—É—â–µ–π —Å—Ç–æ—Ä–∏—Å */
        .current-indicator {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 6px;
            z-index: 1000;
        }
        
        .indicator-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .indicator-dot.active {
            background: white;
            transform: scale(1.2);
        }
        
        /* –•–µ–¥–µ—Ä —Å—Ç–æ—Ä–∏—Å */
        .story-header {
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            display: flex;
            align-items: center;
            padding: 0 25px;
            z-index: 10;
        }
        
        .story-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            border: 2px solid white;
        }
        
        .story-username {
            font-weight: 600;
            font-size: 16px;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        .story-emoji {
            font-size: 5rem;
            margin-bottom: 25px;
            animation: float 3s ease-in-out infinite;
            display: block;
        }
        
        .story-title {
            font-family: 'Caveat', cursive;
            font-size: 3.2rem;
            margin-bottom: 25px;
            line-height: 1.2;
            font-weight: 700;
        }
        
        .story-text {
            font-size: 1.7rem;
            line-height: 1.6;
            margin-bottom: 30px;
            max-width: 380px;
        }
        
        .story-stat-number {
            font-size: 6rem;
            font-weight: 900;
            line-height: 1;
            margin-bottom: 20px;
            display: block;
            text-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .story-stat-label {
            font-size: 1.8rem;
            line-height: 1.4;
            opacity: 0.95;
        }
        
        /* Message bubble */
        .message-bubble {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px;
            margin: 25px 0;
            max-width: 380px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .message-author {
            font-weight: 700;
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: #ffcc00;
        }
        
        .message-text {
            font-size: 1.6rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .message-date {
            font-size: 1rem;
            opacity: 0.8;
            text-align: right;
        }
        
        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
        .scroll-hint {
            position: fixed;
            bottom: 30px;
            left: 0;
            right: 0;
            text-align: center;
            z-index: 1000;
            animation: bounce 2s infinite;
            pointer-events: none;
        }
        
        .scroll-hint i {
            font-size: 2rem;
            color: white;
            opacity: 0.7;
            background: rgba(0,0,0,0.3);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }
        
        /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã */
        .gradient-text {
            background: linear-gradient(45deg, #ff6b8b, #ffa500, #ffcc00, #6a5af9);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 5s ease infinite;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è */
        .story-slide {
            animation: fadeIn 0.6s ease-out;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 768px) {
            :root {
                --story-height: 85vh;
                --story-margin: 7.5vh;
                --story-radius: 35px;
            }
            
            .story-slide {
                width: 92%;
            }
            
            .story-title { font-size: 2.8rem; }
            .story-text { font-size: 1.5rem; }
            .story-stat-number { font-size: 5rem; }
            .story-stat-label { font-size: 1.6rem; }
            .story-emoji { font-size: 4rem; }
            .message-text { font-size: 1.4rem; }
        }
        
        @media (max-width: 480px) {
            :root {
                --story-height: 82vh;
                --story-margin: 9vh;
                --story-radius: 30px;
            }
            
            .story-slide {
                width: 90%;
            }
            
            .story-title { font-size: 2.4rem; }
            .story-text { font-size: 1.3rem; }
            .story-stat-number { font-size: 4rem; }
            .story-stat-label { font-size: 1.4rem; }
            .story-emoji { font-size: 3.5rem; }
            .message-text { font-size: 1.2rem; }
            .story-content { padding: 30px 20px; }
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ */
        .story-slide:active {
            transform: scale(0.98);
        }
        
        /* –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
        .stories-container::-webkit-scrollbar {
            width: 0;
            background: transparent;
        }
        
        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–æ–º–µ—Ä–∞ —Å–ª–∞–π–¥–∞ */
        .slide-counter {
            position: fixed;
            top: 25px;
            right: 25px;
            background: rgba(0,0,0,0.5);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
    </style>
</head>
<body>
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–µ–∫—É—â–µ–π —Å—Ç–æ—Ä–∏—Å -->
    <div class="current-indicator" id="currentIndicator"></div>
    
    <!-- –°—á—ë—Ç—á–∏–∫ —Å–ª–∞–π–¥–æ–≤ -->
    <div class="slide-counter" id="slideCounter">1/15</div>
    
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ –≤—Å–µ–º–∏ —Å—Ç–æ—Ä–∏—Å -->
    <div class="stories-container" id="storiesContainer">
        <!-- –°—Ç–æ—Ä–∏—Å –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
    </div>
    
    <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ -->
    <div class="scroll-hint" id="scrollHint">
        <i class="fas fa-chevron-down"></i>
    </div>

    <script>
        // ========== –î–ê–ù–ù–´–ï –î–õ–Ø –°–¢–û–†–ò–° ==========
        const storiesData = {
            year: 2024,
            partnerName: "–ê–Ω—è",
            
            stories: [
                {
                    type: "intro",
                    emoji: "‚ù§Ô∏è",
                    title: "–ù–∞—à 2024 –≥–æ–¥",
                    text: "–ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è –Ω–∞—à–µ–π –ª—é–±–≤–∏. –õ–∏—Å—Ç–∞–π –≤–Ω–∏–∑, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –Ω–∞—à–∏ –ª—É—á—à–∏–µ –º–æ–º–µ–Ω—Ç—ã!",
                    background: "linear-gradient(135deg, #667eea 0%, #764ba2 100%)"
                },
                {
                    type: "stat",
                    emoji: "üí¨",
                    title: "–¶–∏—Ñ—Ä–∞ –≥–æ–¥–∞",
                    value: "12,478",
                    label: "—Å–æ–æ–±—â–µ–Ω–∏–π –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –¥—Ä—É–≥ –¥—Ä—É–≥—É",
                    background: "linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"
                },
                {
                    type: "stat",
                    emoji: "üìÖ",
                    title: "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å",
                    value: "34",
                    label: "—Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Å—Ä–µ–¥–Ω–µ–º –∑–∞ –¥–µ–Ω—å",
                    background: "linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"
                },
                {
                    type: "stat",
                    emoji: "üë´",
                    title: "–ë–∞–ª–∞–Ω—Å",
                    value: "50/50",
                    label: "–ü–æ—á—Ç–∏ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ: —Ç—ã 6,136, —è ‚Äî 6,342",
                    background: "linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"
                },
                {
                    type: "moment",
                    emoji: "üçù",
                    title: "14 —Ñ–µ–≤—Ä–∞–ª—è",
                    text: "–ù–∞—à –ø–µ—Ä–≤—ã–π —É–∂–∏–Ω –≤–º–µ—Å—Ç–µ! –ü–æ–º–Ω–∏—à—å —Ç–≤–æ—é –ø–∞—Å—Ç—É? –û–Ω–∞ –±—ã–ª–∞ –Ω–µ–º–Ω–æ–≥–æ –ø–µ—Ä–µ—Å–æ–ª–µ–Ω–∞, –Ω–æ —ç—Ç–æ –±—ã–ª —Å–∞–º—ã–π –≤–∫—É—Å–Ω—ã–π —É–∂–∏–Ω –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏ ‚ù§Ô∏è",
                    background: "linear-gradient(135deg, #667eea 0%, #764ba2 100%)"
                },
                {
                    type: "words",
                    emoji: "üó£Ô∏è",
                    title: "–ß–∞—Å—Ç—ã–µ —Å–ª–æ–≤–∞",
                    text: "¬´–õ—é–±–æ–≤—å¬ª ‚Äî 324 —Ä–∞–∑–∞<br>¬´–°–∫—É—á–∞—é¬ª ‚Äî 287 —Ä–∞–∑<br>¬´–ö–æ—Ç–∏–∫¬ª ‚Äî 256 —Ä–∞–∑<br>¬´–û–±–Ω–∏–º–∞—é¬ª ‚Äî 176 —Ä–∞–∑",
                    background: "linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"
                },
                {
                    type: "message",
                    emoji: "üíå",
                    title: "–õ—É—á—à–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
                    author: "–ê–Ω—è",
                    date: "12 –º–∞—è, 23:42",
                    text: "–¢—ã –ª—É—á—à–µ–µ, —á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å —Å–æ –º–Ω–æ–π –≤ —ç—Ç–æ–º –≥–æ–¥—É. –ò–Ω–æ–≥–¥–∞ –ø–µ—Ä–µ—á–∏—Ç—ã–≤–∞—é –Ω–∞—à–∏ –ø–µ—Ä–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —É–ª—ã–±–∞—é—Å—å –∫–∞–∫ –¥—É—Ä–æ—á–∫–∞ üòä",
                    background: "linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"
                },
                {
                    type: "stat",
                    emoji: "üì∏",
                    title: "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏",
                    value: "876 —Ñ–æ—Ç–æ",
                    label: "–∏ 245 –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π",
                    background: "linear-gradient(135deg, #a9c9ff 0%, #ffbbec 100%)"
                },
                {
                    type: "moment",
                    emoji: "üê±",
                    title: "3 –æ–∫—Ç—è–±—Ä—è",
                    text: "–î–µ–Ω—å, –∫–æ–≥–¥–∞ –º—ã —Ä–µ—à–∏–ª–∏ –∑–∞–≤–µ—Å—Ç–∏ –∫–æ—Ç–∏–∫–∞! –ü–æ–º–Ω–∏—à—å, –∫–∞–∫ –¥–æ–ª–≥–æ –≤—ã–±–∏—Ä–∞–ª–∏ –∏–º—è? –ù–∞—à–µ–º—É –ú—É—Ä–∑–∏–∫—É —É–∂–µ 2 –º–µ—Å—è—Ü–∞ ü•∞",
                    background: "linear-gradient(135deg, #d299c2 0%, #fef9d7 100%)"
                },
                {
                    type: "message",
                    emoji: "‚ú®",
                    title: "–ï—â—ë –æ–¥–Ω–æ –ø–∏—Å—å–º–æ",
                    author: "–¢—ã",
                    date: "7 —Å–µ–Ω—Ç—è–±—Ä—è, 00:03",
                    text: "–¢–æ–ª—å–∫–æ —á—Ç–æ –æ—Å–æ–∑–Ω–∞–ª, —á—Ç–æ –¥—É–º–∞—é –æ —Ç–µ–±–µ –∫–∞–∂–¥—É—é —Å–≤–æ–±–æ–¥–Ω—É—é –º–∏–Ω—É—Ç—É. –≠—Ç–æ –∏ –±–µ–∑—É–º–∏–µ, –∏ —Å–∞–º–æ–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ —á—É–≤—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.",
                    background: "linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%)"
                },
                {
                    type: "stat",
                    emoji: "üòä",
                    title: "–≠–º–æ—Ü–∏–∏",
                    value: "1,543",
                    label: "—Å—Ç–∏–∫–µ—Ä–∞ —Å —É–ª—ã–±–∫–∞–º–∏ –∏ —Å–µ—Ä–¥–µ—á–∫–∞–º–∏",
                    background: "linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)"
                },
                {
                    type: "moment",
                    emoji: "üéÇ",
                    title: "12 –Ω–æ—è–±—Ä—è",
                    text: "–¢–≤–æ–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è! –Ø —Ç–∞–∫ –≤–æ–ª–Ω–æ–≤–∞–ª—Å—è, –≥–æ—Ç–æ–≤—è —Å—é—Ä–ø—Ä–∏–∑. –¢–≤–æ–∏ –≥–ª–∞–∑–∞, –∫–æ–≥–¥–∞ —Ç—ã —É–≤–∏–¥–µ–ª–∞ —Ç–æ—Ä—Ç ‚Äî —ç—Ç–æ –±–µ—Å—Ü–µ–Ω–Ω–æ.",
                    background: "linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%)"
                },
                {
                    type: "stat",
                    emoji: "‚è∞",
                    title: "–†–µ–∫–æ—Ä–¥",
                    value: "8 —á–∞—Å–æ–≤",
                    label: "42 –º–∏–Ω—É—Ç—ã ‚Äî –Ω–∞—à —Å–∞–º—ã–π –¥–æ–ª–≥–∏–π —Ä–∞–∑–≥–æ–≤–æ—Ä",
                    background: "linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%)"
                },
                {
                    type: "stat",
                    emoji: "üî•",
                    title: "–°–∞–º—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π",
                    value: "–ú–∞—Ä—Ç",
                    label: "–ò–º–µ–Ω–Ω–æ –≤ –º–∞—Ä—Ç–µ –º—ã –æ–±—â–∞–ª–∏—Å—å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ",
                    background: "linear-gradient(135deg, #fa709a 0%, #fee140 100%)"
                },
                {
                    type: "outro",
                    emoji: "üåü",
                    title: "–°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ!",
                    text: "–ó–∞ –∫–∞–∂–¥—ã–π —Å–º–µ—Ö, –∑–∞ –∫–∞–∂–¥–æ–µ ¬´–¥–æ–±—Ä–æ–µ —É—Ç—Ä–æ¬ª, –∑–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É —ç—Ç–æ–≥–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–≥–æ –≥–æ–¥–∞. –Ø –ª—é–±–ª—é —Ç–µ–±—è –±–æ–ª—å—à–µ, —á–µ–º –≤—Å–µ —ç—Ç–∏ —Ü–∏—Ñ—Ä—ã –º–æ–≥—É—Ç –ø–æ–∫–∞–∑–∞—Ç—å. ‚ù§Ô∏è",
                    background: "linear-gradient(135deg, #ff6b8b 0%, #6a5af9 100%)"
                }
            ]
        };

        // ========== –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
        let currentSlideIndex = 0;
        const totalSlides = storiesData.stories.length;
        const container = document.getElementById('storiesContainer');
        const indicator = document.getElementById('currentIndicator');
        const slideCounter = document.getElementById('slideCounter');
        const scrollHint = document.getElementById('scrollHint');

        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üì± Instagram Stories —Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º —Å–∫—Ä–æ–ª–ª–æ–º –∑–∞–≥—Ä—É–∂–µ–Ω—ã!');
            
            // –°–æ–∑–¥–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
            createIndicators();
            
            // –°–æ–∑–¥–∞–µ–º —Å—Ç–æ—Ä–∏—Å
            createStories();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è
            setupEvents();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á—ë—Ç—á–∏–∫
            updateSlideCounter();
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
            setTimeout(() => {
                checkScrollHint();
            }, 1000);
        });

        // ========== –§–£–ù–ö–¶–ò–ò ==========
        function createIndicators() {
            indicator.innerHTML = '';
            for (let i = 0; i < totalSlides; i++) {
                const dot = document.createElement('div');
                dot.className = 'indicator-dot';
                if (i === 0) dot.classList.add('active');
                indicator.appendChild(dot);
            }
        }

        function createStories() {
            container.innerHTML = '';
            
            storiesData.stories.forEach((story, index) => {
                const slide = document.createElement('div');
                slide.className = 'story-slide';
                slide.id = `story-${index}`;
                slide.style.background = story.background;
                
                let contentHTML = '';
                
                // –•–µ–¥–µ—Ä —Å –∞–≤–∞—Ç–∞—Ä–∫–æ–π –∏ –∏–º–µ–Ω–µ–º
                const headerHTML = `
                    <div class="story-header">
                        <div class="story-avatar">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="story-username">${storiesData.partnerName} & –¢—ã ‚Ä¢ 2024</div>
                    </div>
                `;
                
                // –ö–æ–Ω—Ç–µ–Ω—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
                switch (story.type) {
                    case 'intro':
                    case 'outro':
                    case 'moment':
                        contentHTML = `
                            ${headerHTML}
                            <div class="story-content">
                                <div class="story-emoji gradient-text">${story.emoji}</div>
                                <h1 class="story-title gradient-text">${story.title}</h1>
                                <p class="story-text">${story.text}</p>
                            </div>
                        `;
                        break;
                        
                    case 'stat':
                        if (story.text) {
                            contentHTML = `
                                ${headerHTML}
                                <div class="story-content">
                                    <div class="story-emoji gradient-text">${story.emoji}</div>
                                    <h1 class="story-title gradient-text">${story.title}</h1>
                                    <p class="story-text">${story.text}</p>
                                </div>
                            `;
                        } else {
                            contentHTML = `
                                ${headerHTML}
                                <div class="story-content">
                                    <div class="story-emoji gradient-text">${story.emoji}</div>
                                    <h1 class="story-title gradient-text">${story.title}</h1>
                                    <span class="story-stat-number gradient-text">${story.value}</span>
                                    <p class="story-stat-label">${story.label}</p>
                                </div>
                            `;
                        }
                        break;
                        
                    case 'words':
                        contentHTML = `
                            ${headerHTML}
                            <div class="story-content">
                                <div class="story-emoji gradient-text">${story.emoji}</div>
                                <h1 class="story-title gradient-text">${story.title}</h1>
                                <p class="story-text">${story.text}</p>
                            </div>
                        `;
                        break;
                        
                    case 'message':
                        contentHTML = `
                            ${headerHTML}
                            <div class="story-content">
                                <div class="story-emoji gradient-text">${story.emoji}</div>
                                <h1 class="story-title gradient-text">${story.title}</h1>
                                <div class="message-bubble">
                                    <div class="message-author">${story.author}</div>
                                    <div class="message-text">${story.text}</div>
                                    <div class="message-date">${story.date}</div>
                                </div>
                            </div>
                        `;
                        break;
                }
                
                slide.innerHTML = contentHTML;
                container.appendChild(slide);
            });
            
            console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${totalSlides} —Å—Ç–æ—Ä–∏—Å`);
        }

        function setupEvents() {
            // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª
            container.addEventListener('scroll', handleScroll);
            
            // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–≤–∞–π–ø—ã/—Ç–∞–ø—ã
            let startY = 0;
            let isScrolling = false;
            
            container.addEventListener('touchstart', (e) => {
                startY = e.touches[0].clientY;
                isScrolling = false;
            });
            
            container.addEventListener('touchmove', (e) => {
                isScrolling = true;
            });
            
            container.addEventListener('touchend', (e) => {
                if (!isScrolling) {
                    // –¢–∞–ø –ø–æ —Ü–µ–Ω—Ç—Ä—É - —Å–∫—Ä–æ–ª–ª–∏–º –≤–Ω–∏–∑
                    const endY = e.changedTouches[0].clientY;
                    if (Math.abs(endY - startY) < 10) {
                        scrollToNextSlide();
                    }
                }
            });
            
            // –ö–ª–∏–∫ –ø–æ —Å—Ç–æ—Ä–∏—Å
            container.addEventListener('click', (e) => {
                if (!e.target.closest('.story-header')) {
                    scrollToNextSlide();
                }
            });
            
            // –ö–ª–∞–≤–∏—à–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
            document.addEventListener('keydown', (e) => {
                switch(e.key) {
                    case 'ArrowDown':
                    case ' ':
                        scrollToNextSlide();
                        break;
                    case 'ArrowUp':
                        scrollToPrevSlide();
                        break;
                }
            });
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
            container.addEventListener('scroll', checkScrollHint);
        }

        function handleScroll() {
            const slideHeight = container.children[0].offsetHeight + parseFloat(getComputedStyle(container.children[0]).marginTop) * 2;
            const scrollPosition = container.scrollTop;
            
            // –í—ã—á–∏—Å–ª—è–µ–º —Ç–µ–∫—É—â–∏–π —Å–ª–∞–π–¥
            const newIndex = Math.round(scrollPosition / slideHeight);
            
            if (newIndex !== currentSlideIndex && newIndex >= 0 && newIndex < totalSlides) {
                currentSlideIndex = newIndex;
                updateIndicators();
                updateSlideCounter();
            }
        }

        function updateIndicators() {
            const dots = document.querySelectorAll('.indicator-dot');
            dots.forEach((dot, index) => {
                if (index === currentSlideIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        function updateSlideCounter() {
            slideCounter.textContent = `${currentSlideIndex + 1}/${totalSlides}`;
        }

        function scrollToNextSlide() {
            if (currentSlideIndex < totalSlides - 1) {
                const nextSlide = document.getElementById(`story-${currentSlideIndex + 1}`);
                if (nextSlide) {
                    nextSlide.scrollIntoView({ behavior: 'smooth' });
                }
            } else {
                // –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–ª–∞–π–¥ - –Ω–µ–±–æ–ª—å—à–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
                container.style.transform = 'translateY(-10px)';
                setTimeout(() => {
                    container.style.transform = 'translateY(0)';
                }, 100);
            }
        }

        function scrollToPrevSlide() {
            if (currentSlideIndex > 0) {
                const prevSlide = document.getElementById(`story-${currentSlideIndex - 1}`);
                if (prevSlide) {
                    prevSlide.scrollIntoView({ behavior: 'smooth' });
                }
            }
        }

        function checkScrollHint() {
            const isAtBottom = container.scrollTop + container.clientHeight >= container.scrollHeight - 50;
            
            if (isAtBottom || currentSlideIndex === totalSlides - 1) {
                scrollHint.style.opacity = '0';
                scrollHint.style.pointerEvents = 'none';
            } else {
                scrollHint.style.opacity = '1';
                scrollHint.style.pointerEvents = 'auto';
            }
        }

        // –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –¥–ª—è –¥–µ–º–æ (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)
        function autoScrollDemo() {
            let autoScroll = setInterval(() => {
                if (currentSlideIndex < totalSlides - 1) {
                    scrollToNextSlide();
                } else {
                    clearInterval(autoScroll);
                }
            }, 5000);
        }

        // –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ—Å–∫—Ä–æ–ª–ª —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        // setTimeout(autoScrollDemo, 10000);
        
        // –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
        window.storiesApp = {
            nextSlide: scrollToNextSlide,
            prevSlide: scrollToPrevSlide,
            currentSlide: () => currentSlideIndex + 1,
            totalSlides: totalSlides
        };
    </script>
</body>
</html>