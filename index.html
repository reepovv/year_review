<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Наш 2025 год ❤️</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        @font-face {
            font-family: 'MyCustomFont';
            src: url('PizzaHutCYR.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        
        :root {
            --slide-height: 100vh;
            --slide-radius: 30px;
            --peek-height: 40px;
        }
        
        body {
            font-family: 'MyCustomFont', 'Montserrat', sans-serif;
            background: #000;
            color: white;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            position: fixed;
            top: 0;
            left: 0;
            touch-action: none;
        }
        
        .slides-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
        }
        
        .story-slide {
            width: 100vw;
            height: var(--slide-height);
            position: relative;
            overflow: hidden;
        }
        
        .slide-visual {
            position: absolute;
            top: 10px;
            bottom: 10px;
            left: 10px;
            right: 10px;
            border-radius: var(--slide-radius);
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
        }
        
        /* ПЕРВЫЙ СЛАЙД */
        .first-slide {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }
        
        .first-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            z-index: 1;
        }
        
        /* ВТОРОЙ СЛАЙД С ФОНОМ И ЦИФРАМИ */
        .second-slide {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }
        
        .second-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1;
        }
        
        /* СТИЛИ ДЛЯ ВТОРОГО И ТРЕТЬЕГО СЛАЙДОВ */
        .big-numbers-container {
            position: absolute;
            top: 50px;
            left: 0;
            width: 100%;
            text-align: center;
            z-index: 10;
            pointer-events: none;
        }
        
        .big-number {
            font-family: 'MyCustomFont', sans-serif;
            font-weight: 900;
            font-size: 12rem;
            line-height: 1;
            color: white;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.6),
                         0 0 60px rgba(255, 255, 255, 0.4);
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.95) 30%, rgba(255, 204, 0, 0.9) 70%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: fadeInScale 1.5s ease-out forwards;
            opacity: 0;
            transform: scale(0.8);
        }
        
        .big-number-label {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 3rem;
            font-weight: 700;
            color: white;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.8);
            margin-top: -15px;
            animation: fadeInUp 1.2s ease-out 0.8s forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .second-slide-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            padding: 20px 15px 100px 15px;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .second-slide-text {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 2.2rem;
            line-height: 1.4;
            max-width: 85%;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            padding: 0 20px;
            animation: fadeInUp 1.2s ease-out 1.2s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        /* СТИЛИ ДЛЯ ТРЕТЬЕГО СЛАЙДА */
        .third-slide {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }
        
        .third-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1;
        }
        
        .third-slide-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            padding: 20px 15px 100px 15px;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .third-slide-text-large {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 2.5rem;
            line-height: 1.4;
            max-width: 85%;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            padding: 0 20px;
            margin-bottom: 30px;
            animation: fadeInUp 1.2s ease-out 1.2s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .third-slide-text-small {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.8rem;
            line-height: 1.4;
            max-width: 85%;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            padding: 0 20px;
            animation: fadeInUp 1.2s ease-out 1.4s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        /* СТИЛИ ДЛЯ ЧЕТВЕРТОГО СЛАЙДА СО СТИКЕРОМ */
        .fourth-slide {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }

        .fourth-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1;
        }

        /* ЗАГОЛОВОК ВВЕРХУ */
        .sticker-title {
            position: absolute;
            top: 60px;
            left: 0;
            right: 0;
            text-align: center;
            z-index: 2;
            animation: fadeInUp 1.2s ease-out 0.5s forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        .sticker-title-text {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.8);
            max-width: 90%;
            margin: 0 auto;
            padding: 0 20px;
        }

        .sticker-container {
            position: absolute;
            top: 35%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            width: 280px;
            height: 280px;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: fadeInScale 1.5s ease-out forwards, float 3s ease-in-out infinite 1.5s;
            opacity: 0;
        }
        
        .sticker-video {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 20px;
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.3);
        }
        
        /* ТЕКСТ ВНИЗУ */
        .sticker-text-bottom {
            position: absolute;
            bottom: 100px;
            left: 0;
            right: 0;
            text-align: center;
            z-index: 2;
            padding: 0 20px;
            animation: fadeInUp 1.2s ease-out 1.2s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .sticker-description {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.8rem;
            line-height: 1.4;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            max-width: 90%;
            margin: 0 auto;
        }
        
        /* ПЯТЫЙ СЛАЙД С ТОП-3 СТИКЕРАМИ - ИСПРАВЛЕННЫЙ */
        .fifth-slide {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }

        .fifth-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1;
        }

        .top-stickers-container {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            padding: 50px 15px 30px 15px;
            text-align: center;
            position: relative;
            z-index: 2;
            overflow-y: auto;
            max-height: calc(100vh - 80px);
        }

        .top-stickers-title {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.8);
            margin-bottom: 20px;
            animation: fadeInUp 1.2s ease-out 0.5s forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        .top-stickers-section {
            width: 100%;
            max-width: 500px;
            margin-bottom: 15px;
            animation: fadeInUp 1.2s ease-out 0.8s forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        .section-title {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: #ffcc00;
            margin-bottom: 15px;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
        }

        .sticker-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .sticker-row-video {
            width: 70px;
            height: 70px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
        }

        .sticker-row-video video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .sticker-row-text {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.6rem;
            color: white;
            text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.7);
            flex-grow: 1;
            text-align: left;
            padding: 0 15px;
        }

        .sticker-row-count {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: #ffcc00;
            text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.7);
            min-width: 100px;
            text-align: right;
        }
        
        /* ШЕСТОЙ СЛАЙД С ВИДЕОСООБЩЕНИЯМИ */
        .sixth-slide {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }
        
        .sixth-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1;
        }
        
        .sixth-slide-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            padding: 20px 15px 100px 15px;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .sixth-slide-text-large {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 2.5rem;
            line-height: 1.4;
            max-width: 85%;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            padding: 0 20px;
            margin-bottom: 30px;
            animation: fadeInUp 1.2s ease-out 1.2s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .sixth-slide-text-small {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.8rem;
            line-height: 1.4;
            max-width: 85%;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            padding: 0 20px;
            animation: fadeInUp 1.2s ease-out 1.4s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        /* СЕДЬМОЙ СЛАЙД - КРУЖОЧКИ ЛАРИТЫ */
        .seventh-slide, .eighth-slide {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }
        
        .seventh-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1;
        }
        
        .seventh-slide-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            padding: 20px 15px 100px 15px;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .seventh-slide-text-large {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 2.5rem;
            line-height: 1.4;
            max-width: 85%;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            padding: 0 20px;
            margin-bottom: 30px;
            animation: fadeInUp 1.2s ease-out 1.2s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .seventh-slide-text-small {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.8rem;
            line-height: 1.4;
            max-width: 85%;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            padding: 0 20px;
            animation: fadeInUp 1.2s ease-out 1.4s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .eighth-slide .sticker-container,
        .tenth-slide .sticker-container {
            position: absolute;
            top: 35%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            width: 280px;
            height: 280px;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: fadeInScale 1.5s ease-out forwards, float 3s ease-in-out infinite 1.5s;
            opacity: 0;
        }

        .eighth-slide .sticker-video,
        .tenth-slide .sticker-video {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 20px;
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.3);
        }

        .eighth-slide .sticker-title,
        .tenth-slide .sticker-title {
            position: absolute;
            top: 60px;
            left: 0;
            right: 0;
            text-align: center;
            z-index: 2;
            animation: fadeInUp 1.2s ease-out 0.5s forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        .eighth-slide .sticker-title-text,
        .tenth-slide .sticker-title-text {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.8);
            max-width: 90%;
            margin: 0 auto;
            padding: 0 20px;
        }

        .eighth-slide .sticker-text-bottom,
        .tenth-slide .sticker-text-bottom {
            position: absolute;
            bottom: 100px;
            left: 0;
            right: 0;
            text-align: center;
            z-index: 2;
            padding: 0 20px;
            animation: fadeInUp 1.2s ease-out 1.2s forwards;
            opacity: 0;
            transform: translateY(30px);
        }

        .eighth-slide .sticker-description,
        .tenth-slide .sticker-description {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.8rem;
            line-height: 1.4;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            max-width: 90%;
            margin: 0 auto;
        }
        
        .eighth-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1;
        }
        
        .first-video-title {
            position: absolute;
            top: 60px;
            left: 0;
            right: 0;
            text-align: center;
            z-index: 2;
            animation: fadeInUp 1.2s ease-out 0.5s forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .first-video-title-text {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.8);
            max-width: 90%;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* ФИКС ДЛЯ ВИДЕО КОНТЕЙНЕРА - ВАЖНО! */
        .video-container-centered {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            width: 280px;
            height: 280px;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: fadeInScale 1.5s ease-out forwards;
            opacity: 0;
            margin: 0;
            padding: 0;
        }
        
        .video-centered {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 20px;
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.3);
        }
        
        .first-video-text-bottom {
            position: absolute;
            bottom: 100px;
            left: 0;
            right: 0;
            text-align: center;
            z-index: 2;
            padding: 0 20px;
            animation: fadeInUp 1.2s ease-out 1.2s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .first-video-description {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.8rem;
            line-height: 1.4;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            max-width: 90%;
            margin: 0 auto;
        }
        
        /* ДЕВЯТЫЙ СЛАЙД - КРУЖОЧКИ МИШИ */
        .ninth-slide {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }
        
        .ninth-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1;
        }
        
        .ninth-slide-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            padding: 20px 15px 100px 15px;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .ninth-slide-text-large {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 2.5rem;
            line-height: 1.4;
            max-width: 85%;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            padding: 0 20px;
            margin-bottom: 30px;
            animation: fadeInUp 1.2s ease-out 1.2s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .ninth-slide-text-small {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.8rem;
            line-height: 1.4;
            max-width: 85%;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            padding: 0 20px;
            animation: fadeInUp 1.2s ease-out 1.4s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        /* ДЕСЯТЫЙ СЛАЙД - ПЕРВЫЙ КРУЖОЧЕК МИШИ */
        .tenth-slide {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }
        
        .tenth-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1;
        }

        /* ЦИФРЫ В ЛЕВОМ ВЕРХНЕМ УГЛУ ПЕРВОГО СЛАЙДА */
        .year-corner {
            position: absolute;
            top: 30px;
            left: 30px;
            z-index: 10;
            pointer-events: none;
        }
        
        .year-line {
            font-family: 'MyCustomFont', sans-serif;
            font-weight: 900;
            line-height: 0.9;
            color: white;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5),
                         0 0 40px rgba(255, 255, 255, 0.3);
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.95) 30%, rgba(255, 204, 0, 0.9) 70%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: fadeInScale 1.5s ease-out forwards;
            opacity: 0;
            transform: scale(0.8);
        }
        
        .year-top-line {
            font-size: 20rem;
            letter-spacing: 8px;
            animation-delay: 0.3s;
        }
        
        .year-bottom-line {
            font-size: 20rem;
            letter-spacing: 8px;
            margin-top: -45px;
            animation-delay: 0.5s;
        }
        
        /* ОСНОВНОЙ КОНТЕНТ ПЕРВОГО СЛАЙДА */
        .first-slide-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            padding: 20px 15px 60px 15px;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        /* ЗАГОЛОВОК - С АНИМАЦИЕЙ */
        .main-title {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 4.5rem;
            margin-bottom: 10px;
            line-height: 1.1;
            font-weight: 700;
            max-width: 90%;
            color: white;
            text-shadow: 3px 3px 15px rgba(0, 0, 0, 0.8);
            animation: fadeInUp 1.2s ease-out 0.8s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        /* ПОДЗАГОЛОВОК - С АНИМАЦИЕЙ */
        .subtitle {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 2.8rem;
            line-height: 1.3;
            max-width: 85%;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
            padding: 0 20px;
            animation: fadeInUp 1.2s ease-out 1.2s forwards;
            opacity: 0;
            transform: translateY(30px);
        }
        
        /* АНИМАЦИИ */
        @keyframes fadeInScale {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .story-slide:not(:last-child)::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 10px;
            right: 10px;
            height: var(--peek-height);
            background: inherit;
            border-radius: 0 0 var(--slide-radius) var(--slide-radius);
            z-index: 2;
            opacity: 0.9;
            filter: brightness(1.1);
        }
        
        /* ОСТАЛЬНЫЕ СЛАЙДЫ */
        .slide-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px 15px;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        /* АНИМАЦИЯ ДЛЯ ЭМОДЗИ НА ВСЕХ СЛАЙДАХ */
        .story-emoji {
            font-size: 4.5rem;
            margin-bottom: 25px;
            display: block;
            animation: fadeInScale 1s ease-out 0.3s forwards, float 3s ease-in-out infinite 1.5s;
            opacity: 0;
            transform: scale(0.8);
        }
        
        /* АНИМАЦИЯ ДЛЯ ЗАГОЛОВКОВ НА ВСЕХ СЛАЙДАХ */
        .story-title {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 3.2rem;
            margin-bottom: 25px;
            line-height: 1.2;
            font-weight: 700;
            max-width: 90%;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
            animation: fadeInUp 1s ease-out 0.5s forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        
        /* АНИМАЦИЯ ДЛЯ ТЕКСТА НА ВСЕХ СЛАЙДАХ */
        .story-text {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.8rem;
            line-height: 1.6;
            margin-bottom: 25px;
            max-width: 90%;
            padding: 0 15px;
            text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.7);
            animation: fadeInUp 1s ease-out 0.7s forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        
        /* АНИМАЦИЯ ДЛЯ СТАТИСТИКИ */
        .story-stat-number {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 5rem;
            font-weight: 900;
            line-height: 1;
            margin-bottom: 20px;
            display: block;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
            animation: fadeInScale 1s ease-out 0.5s forwards;
            opacity: 0;
            transform: scale(0.8);
        }
        
        .story-stat-label {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.9rem;
            line-height: 1.4;
            opacity: 0.95;
            max-width: 90%;
            text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.7);
            animation: fadeInUp 1s ease-out 0.7s forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        
        /* АНИМАЦИЯ ДЛЯ СООБЩЕНИЙ */
        .message-bubble {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 25px;
            margin: 20px 0;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            animation: fadeInScale 1s ease-out 0.5s forwards;
            opacity: 0;
            transform: scale(0.95);
        }
        
        .message-author {
            font-family: 'MyCustomFont', sans-serif;
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #ffcc00;
        }
        
        .message-text {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.6rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .message-date {
            font-family: 'MyCustomFont', sans-serif;
            font-size: 1.1rem;
            opacity: 0.8;
            text-align: right;
        }
        
        .gradient-text {
            background: linear-gradient(45deg, #ff6b8b, #ffa500, #ffcc00, #6a5af9);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 5s ease infinite;
        }
        
        @keyframes float {
            0%, 100% { 
                transform: translate(-50%, -50%) translateY(0); 
            }
            50% { 
                transform: translate(-50%, -50%) translateY(-10px); 
            }
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .slide-indicator {
            font-family: 'MyCustomFont', sans-serif;
            position: fixed;
            bottom: 25px;
            right: 25px;
            background: rgba(0,0,0,0.5);
            color: white;
            padding: 10px 18px;
            border-radius: 25px;
            font-size: 1.1rem;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            font-weight: 600;
        }
        
        .swipe-indicator {
            font-family: 'MyCustomFont', sans-serif;
            position: fixed;
            bottom: 30px;
            left: 0;
            right: 0;
            text-align: center;
            z-index: 1000;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        
        .swipe-arrow {
            font-size: 2rem;
            color: rgba(255, 255, 255, 0.7);
            animation: bounce 2s infinite;
            background: rgba(0,0,0,0.3);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-8px); }
            60% { transform: translateY(-4px); }
        }
        
        /* МЕДИА-ЗАПРОСЫ */
        @media (max-width: 768px) {
            :root {
                --slide-radius: 25px;
                --peek-height: 35px;
            }
            
            .slide-visual {
                left: 8px;
                right: 8px;
                top: 8px;
                bottom: 8px;
            }
            
            .story-slide:not(:last-child)::after {
                left: 8px;
                right: 8px;
                bottom: -8px;
            }
            
            .year-corner {
                top: 20px;
                left: 20px;
            }
            
            .year-top-line {
                font-size: 15rem;
                letter-spacing: 5px;
            }
            
            .year-bottom-line {
                font-size: 15rem;
                letter-spacing: 5px;
                margin-top: -25px;
            }
            
            .big-number {
                font-size: 9rem;
            }
            
            .big-number-label {
                font-size: 2.2rem;
                margin-top: -10px;
            }
            
            .second-slide-content,
            .third-slide-content,
            .sixth-slide-content,
            .seventh-slide-content,
            .ninth-slide-content {
                padding: 20px 15px 80px 15px;
            }
            
            .second-slide-text,
            .third-slide-text-large,
            .sixth-slide-text-large,
            .seventh-slide-text-large,
            .ninth-slide-text-large {
                font-size: 1.8rem;
                max-width: 90%;
            }
            
            .third-slide-text-small,
            .sixth-slide-text-small,
            .seventh-slide-text-small,
            .ninth-slide-text-small {
                font-size: 1.5rem;
                max-width: 90%;
            }

            .eighth-slide .sticker-container,
            .tenth-slide .sticker-container {
                width: 230px; /* или 180px для мобилки */
                height: 230px; /* или 180px для мобилки */
                top: 35%;
            }
            
            /* СТИКЕР СЛАЙД - МОБИЛЬНАЯ ВЕРСИЯ */
            .sticker-title {
                top: 50px;
            }
            
            .sticker-title-text {
                font-size: 2rem;
            }
            
            .sticker-container,
            .video-container-centered {
                width: 230px;
                height: 230px;
                top: 35%;
            }
            
            .sticker-text-bottom,
            .first-video-text-bottom {
                bottom: 80px;
            }
            
            .sticker-description,
            .first-video-description {
                font-size: 1.5rem;
            }
            
            /* ЗАГОЛОВКИ ПЕРВЫХ ВИДЕО */
            .first-video-title {
                top: 50px;
            }
            
            .first-video-title-text {
                font-size: 2rem;
            }
            
            /* ПЯТЫЙ СЛАЙД - МОБИЛЬНАЯ ВЕРСИЯ */
            .top-stickers-container {
                padding: 40px 10px 20px 10px;
            }
            
            .top-stickers-title {
                font-size: 2rem;
                margin-bottom: 15px;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .sticker-row {
                padding: 8px 12px;
            }
            
            .sticker-row-video {
                width: 60px;
                height: 60px;
            }
            
            .sticker-row-text {
                font-size: 1.4rem;
                padding: 0 10px;
            }
            
            .sticker-row-count {
                font-size: 1.6rem;
                min-width: 80px;
            }
            
            .first-slide-content {
                padding: 20px 15px 50px 15px;
            }
            
            .main-title {
                font-size: 3rem;
            }
            
            .subtitle {
                font-size: 2rem;
                max-width: 90%;
            }

            .eighth-slide .sticker-title-text,
            .tenth-slide .sticker-title-text {
                font-size: 1.6rem; /* было 2rem */
            }
            
            .story-title { font-size: 2.8rem; }
            .story-text { font-size: 1.6rem; }
            .story-stat-number { font-size: 4.5rem; }
            .story-stat-label { font-size: 1.7rem; }
            .story-emoji { font-size: 4rem; }
            .message-text { font-size: 1.5rem; }
        }
        
        @media (max-width: 480px) {
            :root {
                --slide-radius: 20px;
                --peek-height: 30px;
            }
            
            .slide-visual {
                left: 6px;
                right: 6px;
                top: 6px;
                bottom: 6px;
            }
            
            .story-slide:not(:last-child)::after {
                left: 6px;
                right: 6px;
                bottom: -6px;
            }
            
            .year-corner {
                top: 15px;
                left: 15px;
            }
            
            .year-top-line {
                font-size: 10rem;
                letter-spacing: 3px;
            }
            
            .year-bottom-line {
                font-size: 10rem;
                letter-spacing: 3px;
                margin-top: -20px;
            }
            
            .big-number {
                font-size: 6rem;
            }
            
            .big-number-label {
                font-size: 1.8rem;
                margin-top: -8px;
            }
            
            .second-slide-content,
            .third-slide-content,
            .sixth-slide-content,
            .seventh-slide-content,
            .ninth-slide-content {
                padding: 20px 15px 60px 15px;
            }
            
            .second-slide-text,
            .third-slide-text-large,
            .sixth-slide-text-large,
            .seventh-slide-text-large,
            .ninth-slide-text-large {
                font-size: 1.4rem;
                max-width: 95%;
            }
            
            .third-slide-text-small,
            .sixth-slide-text-small,
            .seventh-slide-text-small,
            .ninth-slide-text-small {
                font-size: 1.2rem;
                max-width: 95%;
            }
            
            /* СТИКЕР СЛАЙД - МОБИЛЬНАЯ ВЕРСИЯ */
            .sticker-title {
                top: 60px;
            }
            
            .sticker-title-text {
                font-size: 2rem;
            }
            
            .sticker-container,
            .video-container-centered {
                width: 180px;
                height: 180px;
                top: 35%;
            }
            
            .sticker-text-bottom,
            .first-video-text-bottom {
                bottom: 60px;
            }
            
            .sticker-description,
            .first-video-description {
                font-size: 1.2rem;
            }
            
            /* ЗАГОЛОВКИ ПЕРВЫХ ВИДЕО */
            .first-video-title {
                top: 60px;
            }
            
            .first-video-title-text {
                font-size: 1.8rem;
            }
            
            /* ПЯТЫЙ СЛАЙД - МОБИЛЬНАЯ ВЕРСИЯ */
            .top-stickers-container {
                padding: 35px 8px 15px 8px;
            }
            
            .top-stickers-title {
                font-size: 1.8rem;
                margin-bottom: 12px;
            }
            
            .section-title {
                font-size: 1.6rem;
                margin-bottom: 15px;
            }
            
            .sticker-row {
                padding: 6px 10px;
                margin-bottom: 12px;
            }
            
            .sticker-row-video {
                width: 50px;
                height: 50px;
                border-radius: 8px;
            }
            
            .sticker-row-text {
                font-size: 1.2rem;
                padding: 0 8px;
            }
            
            .sticker-row-count {
                font-size: 1.4rem;
                min-width: 70px;
            }
            
            .first-slide-content {
                padding: 20px 15px 40px 15px;
            }
            
            .main-title {
                font-size: 2.2rem;
                margin-bottom: 8px;
            }
            
            .subtitle {
                font-size: 1.5rem;
                max-width: 95%;
            }
            
            .slide-content {
                padding: 15px 10px;
            }

            .eighth-slide .sticker-container,
            .tenth-slide .sticker-container {
                width: 180px; /* или 180px для мобилки */
                height: 180px; /* или 180px для мобилки */
                top: 35%;
            }
            
            .eighth-slide .sticker-title-text,
            .tenth-slide .sticker-title-text {
                font-size: 1.4rem; /* было 2rem */
            }

            .story-title { font-size: 2.4rem; }
            .story-text { font-size: 1.4rem; }
            .story-stat-number { font-size: 4rem; }
            .story-stat-label { font-size: 1.5rem; }
            .story-emoji { font-size: 3.5rem; }
            .message-text { font-size: 1.3rem; }
        }
        
        .swiping {
            transition: transform 0.1s linear !important;
        }
    </style>
</head>
<body>
    <div class="slide-indicator" id="slideIndicator">1/10</div>
    <div class="swipe-indicator" id="swipeIndicator">
        <div class="swipe-arrow">
            <i class="fas fa-chevron-up"></i>
        </div>
    </div>
    <div class="slides-container" id="slidesContainer"></div>

    <script>
        // ВСЕ ДАННЫЕ ВСТАВЛЕНЫ ВРУЧНУЮ
        const storiesData = {
            year: 2025,
            partnerName: "Ларита",
            
            stories: [
                {
                    type: "intro",
                    emoji: "❤️",
                    title: "Наш 2025 год",
                    text: "Каждое сообщение — это маленькая история нашей любви. Свайпай вверх, чтобы увидеть наши лучшие моменты!",
                    backgroundImage: "./images/1.jpg",
                    backgroundColor: "rgba(102, 126, 234, 0.2)"
                },
                {
                    type: "second_slide",
                    backgroundImage: "./images/2.jpg",
                    bigNumber: "138 709",
                    bigNumberLabel: "Сообщений",
                    text: "Именно столько сообщений мы написали всего за 2025 год! При чем я написал 60 335 сообщений, а ты - 78 252. Сразу видно, кто больше любит поболтать)"
                },
                {
                    type: "third_slide",
                    backgroundImage: "./images/3.jpg",
                    bigNumber: "18 297",
                    bigNumberLabel: "стикеров",
                    textLarge: "Мы отправили всего в 2025 году",
                    textSmall: "При чем ты отправила 12 280, а я 6 017. Стикеры с ляльками вместо тысячи слов)"
                },
                {
                    type: "sticker_slide",
                    backgroundImage: "./images/4.jpg",
                    stickerVideo: "./images/sticker (130).webm",
                    title: "Самый популярный стикер",
                    text: "Это самый популярный стикер у нас обоих! Ты его использовала 1414 раз, а я 1204 раза."
                },
                {
                    type: "top_stickers_slide",
                    backgroundImage: "./images/4.jpg",
                    title: "Топ-3 стикеров",
                    topMisha: [
                        {video: "./images/sticker (130).webm", count: "1 204 раз"},
                        {video: "./images/sticker (4).webm", count: "869 раз"},
                        {video: "./images/sticker (223).webm", count: "328 раз"}
                    ],
                    topLarita: [
                        {video: "./images/sticker (130).webm", count: "1 414 раз"},
                        {video: "./images/sticker (4).webm", count: "1 265 раз"},
                        {video: "./images/sticker (29).webm", count: "780 раз"}
                    ]
                },
                {
                    type: "sixth_slide",
                    backgroundImage: "./images/7.jpg",
                    bigNumber: "1 933",
                    bigNumberLabel: "кружочка",
                    textLarge: "Всего было отправлено нами в 2025 году",
                    textSmall: "Посмотрим подробнее, что и как было?"
                },
                {
                    type: "seventh_slide",
                    backgroundImage: "./images/5.jpg",
                    bigNumber: "619",
                    bigNumberLabel: "кружочков",
                    textLarge: "Прислала ты",
                    textSmall: "Это 1 час, 59 минут и 36 секунд, которыми я могу наслаждаться в любое время"
                },
                {
                    type: "eighth_slide",
                    backgroundImage: "./images/5.jpg",
                    title: "А этот твой первый кружочек в 2025 году",
                    video: "./images/video (2).mp4",
                    text: "Именно так я запомнил тебя на весь год, такой же красивой и счастливой)"
                },
                {
                    type: "ninth_slide",
                    backgroundImage: "./images/6.jpg",
                    bigNumber: "1 314",
                    bigNumberLabel: "кружочков",
                    textLarge: "Прислал я",
                    textSmall: "Это 12 часов, 54 минуты и 47 секунд, в которые ты называешь меня своим красивым мальчиком"
                },
                {
                    type: "tenth_slide",
                    backgroundImage: "./images/6.jpg",
                    title: "А этот мой первый кружочек в 2025 году",
                    video: "./images/video.mp4",
                    text: "Начал год скучно, зато год весь скучным не был)"
                }
            ]
        };

        let currentSlideIndex = 0;
        const totalSlides = storiesData.stories.length;
        const container = document.getElementById('slidesContainer');
        const slideIndicator = document.getElementById('slideIndicator');
        const swipeIndicator = document.getElementById('swipeIndicator');
        
        let startY = 0;
        let currentY = 0;
        let isSwiping = false;
        let containerOffset = 0;
        let slideHeight = window.innerHeight;

        document.addEventListener('DOMContentLoaded', function() {
            createSlides();
            setupEvents();
            updateSlideIndicator();
            
            setTimeout(() => {
                swipeIndicator.style.opacity = '0.5';
                setTimeout(() => {
                    swipeIndicator.style.display = 'none';
                }, 2000);
            }, 3000);
            
            updateContainerPosition();
        });

        function createSlides() {
            container.innerHTML = '';
            
            storiesData.stories.forEach((story, index) => {
                const slide = document.createElement('div');
                slide.className = 'story-slide';
                slide.id = `slide-${index}`;
                
                const visual = document.createElement('div');
                visual.className = 'slide-visual';
                
                if (index === 0 && story.backgroundImage) {
                    // ПЕРВЫЙ СЛАЙД
                    visual.classList.add('first-slide');
                    visual.style.backgroundImage = `url('${story.backgroundImage}')`;
                    if (story.backgroundColor) {
                        visual.style.backgroundColor = story.backgroundColor;
                    }
                    
                    visual.innerHTML = `
                        <div class="year-corner">
                            <div class="year-line year-top-line">20</div>
                            <div class="year-line year-bottom-line">25</div>
                        </div>
                        <div class="first-slide-content">
                            <h1 class="main-title">Наши итоги года</h1>
                            <p class="subtitle">Посмотри, какой замечательный год это был!</p>
                        </div>
                    `;
                } else if (index === 1 && story.type === "second_slide") {
                    // ВТОРОЙ СЛАЙД С ФОНОМ И ЦИФРАМИ
                    visual.classList.add('second-slide');
                    visual.style.backgroundImage = `url('${story.backgroundImage}')`;
                    
                    visual.innerHTML = `
                        <div class="big-numbers-container">
                            <div class="big-number">${story.bigNumber}</div>
                            <div class="big-number-label">${story.bigNumberLabel}</div>
                        </div>
                        <div class="second-slide-content">
                            <p class="second-slide-text">${story.text}</p>
                        </div>
                    `;
                } else if (index === 2 && story.type === "third_slide") {
                    // ТРЕТИЙ СЛАЙД С ФОНОМ И ЦИФРАМИ
                    visual.classList.add('third-slide');
                    visual.style.backgroundImage = `url('${story.backgroundImage}')`;
                    
                    visual.innerHTML = `
                        <div class="big-numbers-container">
                            <div class="big-number">${story.bigNumber}</div>
                            <div class="big-number-label">${story.bigNumberLabel}</div>
                        </div>
                        <div class="third-slide-content">
                            <p class="third-slide-text-large">${story.textLarge}</p>
                            <p class="third-slide-text-small">${story.textSmall}</p>
                        </div>
                    `;
                } else if (index === 3 && story.type === "sticker_slide") {
                    // ЧЕТВЕРТЫЙ СЛАЙД СО СТИКЕРОМ
                    visual.classList.add('fourth-slide');
                    visual.style.backgroundImage = `url('${story.backgroundImage}')`;
                    
                    visual.innerHTML = `
                        <div class="sticker-title">
                            <div class="sticker-title-text">${story.title}</div>
                        </div>
                        <div class="sticker-container">
                            <video class="sticker-video" autoplay loop muted playsinline>
                                <source src="${story.stickerVideo}" type="video/webm">
                                Ваш браузер не поддерживает видео.
                            </video>
                        </div>
                        <div class="sticker-text-bottom">
                            <p class="sticker-description">${story.text}</p>
                        </div>
                    `;
                    
                    // После добавления в DOM, запускаем видео
                    setTimeout(() => {
                        const video = visual.querySelector('.sticker-video');
                        if (video) {
                            video.play().catch(e => {
                                console.log('Автовоспроизведение заблокировано:', e);
                            });
                        }
                    }, 100);
                } else if (index === 4 && story.type === "top_stickers_slide") {
                    // ПЯТЫЙ СЛАЙД С ТОП-3 СТИКЕРАМИ
                    visual.classList.add('fifth-slide');
                    visual.style.backgroundImage = `url('${story.backgroundImage}')`;
                    
                    // Создаем HTML для топ-стикеров Миши
                    let mishaStickersHTML = '';
                    story.topMisha.forEach((sticker, i) => {
                        mishaStickersHTML += `
                            <div class="sticker-row">
                                <div class="sticker-row-video">
                                    <video autoplay loop muted playsinline>
                                        <source src="${sticker.video}" type="video/webm">
                                    </video>
                                </div>
                                <div class="sticker-row-text">Стикер ${i+1}</div>
                                <div class="sticker-row-count">${sticker.count}</div>
                            </div>
                        `;
                    });
                    
                    // Создаем HTML для топ-стикеров Лариты
                    let laritaStickersHTML = '';
                    story.topLarita.forEach((sticker, i) => {
                        laritaStickersHTML += `
                            <div class="sticker-row">
                                <div class="sticker-row-video">
                                    <video autoplay loop muted playsinline>
                                        <source src="${sticker.video}" type="video/webm">
                                    </video>
                                </div>
                                <div class="sticker-row-text">Стикер ${i+1}</div>
                                <div class="sticker-row-count">${sticker.count}</div>
                            </div>
                        `;
                    });
                    
                    visual.innerHTML = `
                        <div class="top-stickers-container">
                            <div class="top-stickers-title">${story.title}</div>
                            
                            <div class="top-stickers-section">
                                <div class="section-title">Топ Миши:</div>
                                ${mishaStickersHTML}
                            </div>
                            
                            <div class="top-stickers-section">
                                <div class="section-title">Топ Лариты:</div>
                                ${laritaStickersHTML}
                            </div>
                        </div>
                    `;
                    
                    // После добавления в DOM, запускаем видео
                    setTimeout(() => {
                        const videos = visual.querySelectorAll('video');
                        videos.forEach(video => {
                            video.play().catch(e => {
                                console.log('Автовоспроизведение заблокировано:', e);
                            });
                        });
                    }, 100);
                } else if (index === 5 && story.type === "sixth_slide") {
                    // ШЕСТОЙ СЛАЙД С ВИДЕОСООБЩЕНИЯМИ
                    visual.classList.add('sixth-slide');
                    visual.style.backgroundImage = `url('${story.backgroundImage}')`;
                    
                    visual.innerHTML = `
                        <div class="big-numbers-container">
                            <div class="big-number">${story.bigNumber}</div>
                            <div class="big-number-label">${story.bigNumberLabel}</div>
                        </div>
                        <div class="sixth-slide-content">
                            <p class="sixth-slide-text-large">${story.textLarge}</p>
                            <p class="sixth-slide-text-small">${story.textSmall}</p>
                        </div>
                    `;
                } else if (index === 6 && story.type === "seventh_slide") {
                    // СЕДЬМОЙ СЛАЙД - КРУЖОЧКИ ЛАРИТЫ
                    visual.classList.add('seventh-slide');
                    visual.style.backgroundImage = `url('${story.backgroundImage}')`;
                    
                    visual.innerHTML = `
                        <div class="big-numbers-container">
                            <div class="big-number">${story.bigNumber}</div>
                            <div class="big-number-label">${story.bigNumberLabel}</div>
                        </div>
                        <div class="seventh-slide-content">
                            <p class="seventh-slide-text-large">${story.textLarge}</p>
                            <p class="seventh-slide-text-small">${story.textSmall}</p>
                        </div>
                    `;
                } else if (index === 7 && story.type === "eighth_slide") {
                    // ВОСЬМОЙ СЛАЙД - ПЕРВЫЙ КРУЖОЧЕК ЛАРИТЫ
                    visual.classList.add('eighth-slide');
                    visual.style.backgroundImage = `url('${story.backgroundImage}')`;
                    
                    visual.innerHTML = `
                        <div class="sticker-title">
                            <div class="sticker-title-text">${story.title}</div>
                        </div>
                        <div class="sticker-container">
                            <video class="sticker-video" autoplay loop muted playsinline>
                                <source src="${story.video}" type="video/mp4">
                                Ваш браузер не поддерживает видео.
                            </video>
                        </div>
                        <div class="sticker-text-bottom">
                            <p class="sticker-description">${story.text}</p>
                        </div>
                    `;
                    
                    // После добавления в DOM, запускаем видео
                    setTimeout(() => {
                        const video = visual.querySelector('.sticker-video');
                        if (video) {
                            video.play().catch(e => {
                                console.log('Автовоспроизведение заблокировано:', e);
                            });
                        }
                    }, 100);
                } else if (index === 8 && story.type === "ninth_slide") {
                    // ДЕВЯТЫЙ СЛАЙД - КРУЖОЧКИ МИШИ
                    visual.classList.add('ninth-slide');
                    visual.style.backgroundImage = `url('${story.backgroundImage}')`;
                    
                    visual.innerHTML = `
                        <div class="big-numbers-container">
                            <div class="big-number">${story.bigNumber}</div>
                            <div class="big-number-label">${story.bigNumberLabel}</div>
                        </div>
                        <div class="ninth-slide-content">
                            <p class="ninth-slide-text-large">${story.textLarge}</p>
                            <p class="ninth-slide-text-small">${story.textSmall}</p>
                        </div>
                    `;
                } else if (index === 9 && story.type === "tenth_slide") {
                    // ДЕСЯТЫЙ СЛАЙД - ПЕРВЫЙ КРУЖОЧЕК МИШИ
                    visual.classList.add('tenth-slide');
                    visual.style.backgroundImage = `url('${story.backgroundImage}')`;
                    
                    visual.innerHTML = `
                        <div class="sticker-title">
                            <div class="sticker-title-text">${story.title}</div>
                        </div>
                        <div class="sticker-container">
                            <video class="sticker-video" autoplay loop muted playsinline>
                                <source src="${story.video}" type="video/mp4">
                                Ваш браузер не поддерживает видео.
                            </video>
                        </div>
                        <div class="sticker-text-bottom">
                            <p class="sticker-description">${story.text}</p>
                        </div>
                    `;
                    
                    // После добавления в DOM, запускаем видео
                    setTimeout(() => {
                        const video = visual.querySelector('.sticker-video');
                        if (video) {
                            video.play().catch(e => {
                                console.log('Автовоспроизведение заблокировано:', e);
                            });
                        }
                    }, 100);
                } else {
                    // ОСТАЛЬНЫЕ СЛАЙДЫ
                    visual.style.background = story.background;
                    
                    let contentHTML = '';
                    
                    switch (story.type) {
                        case 'intro':
                        case 'outro':
                        case 'moment':
                            contentHTML = `
                                <div class="slide-content">
                                    <div class="story-emoji gradient-text">${story.emoji}</div>
                                    <h1 class="story-title gradient-text">${story.title}</h1>
                                    <p class="story-text">${story.text}</p>
                                </div>
                            `;
                            break;
                            
                        case 'stat':
                            if (story.text) {
                                contentHTML = `
                                    <div class="slide-content">
                                        <div class="story-emoji gradient-text">${story.emoji}</div>
                                        <h1 class="story-title gradient-text">${story.title}</h1>
                                        <p class="story-text">${story.text}</p>
                                    </div>
                                `;
                            } else {
                                contentHTML = `
                                    <div class="slide-content">
                                        <div class="story-emoji gradient-text">${story.emoji}</div>
                                        <h1 class="story-title gradient-text">${story.title}</h1>
                                        <span class="story-stat-number gradient-text">${story.value}</span>
                                        <p class="story-stat-label">${story.label}</p>
                                    </div>
                                `;
                            }
                            break;
                            
                        case 'words':
                            contentHTML = `
                                <div class="slide-content">
                                    <div class="story-emoji gradient-text">${story.emoji}</div>
                                    <h1 class="story-title gradient-text">${story.title}</h1>
                                    <p class="story-text">${story.text}</p>
                                </div>
                            `;
                            break;
                            
                        case 'message':
                            contentHTML = `
                                <div class="slide-content">
                                    <div class="story-emoji gradient-text">${story.emoji}</div>
                                    <h1 class="story-title gradient-text">${story.title}</h1>
                                    <div class="message-bubble">
                                        <div class="message-author">${story.author}</div>
                                        <div class="message-text">${story.text}</div>
                                        <div class="message-date">${story.date}</div>
                                    </div>
                                </div>
                            `;
                            break;
                    }
                    
                    visual.innerHTML = contentHTML;
                }
                
                slide.appendChild(visual);
                container.appendChild(slide);
            });
        }

        function setupEvents() {
            document.addEventListener('touchstart', handleTouchStart, { passive: false });
            document.addEventListener('touchmove', handleTouchMove, { passive: false });
            document.addEventListener('touchend', handleTouchEnd);
            document.addEventListener('click', handleClick);
            document.addEventListener('keydown', handleKeyDown);
            window.addEventListener('resize', handleResize);
            document.addEventListener('touchstart', hideSwipeIndicator);
            document.addEventListener('click', hideSwipeIndicator);
        }

        function handleTouchStart(e) {
            if (e.touches.length !== 1) return;
            startY = e.touches[0].clientY;
            currentY = startY;
            isSwiping = true;
            containerOffset = getContainerOffset();
            container.classList.add('swiping');
            e.preventDefault();
        }

        function handleTouchMove(e) {
            if (!isSwiping || e.touches.length !== 1) return;
            currentY = e.touches[0].clientY;
            const diffY = currentY - startY;
            const newOffset = containerOffset + diffY;
            const maxOffset = 0;
            const minOffset = -(slideHeight * (totalSlides - 1));
            let finalOffset = newOffset;
            if (newOffset > maxOffset) {
                const overshoot = newOffset - maxOffset;
                finalOffset = maxOffset + overshoot * 0.3;
            } else if (newOffset < minOffset) {
                const overshoot = newOffset - minOffset;
                finalOffset = minOffset + overshoot * 0.3;
            }
            setContainerOffset(finalOffset);
            e.preventDefault();
        }

        function handleTouchEnd(e) {
            if (!isSwiping) return;
            const endY = e.changedTouches[0].clientY;
            const diffY = endY - startY;
            isSwiping = false;
            container.classList.remove('swiping');
            const velocity = diffY / (Date.now() - startY);
            const isSignificantSwipe = Math.abs(diffY) > 50 || Math.abs(velocity) > 0.3;
            if (isSignificantSwipe) {
                if (diffY < 0 && currentSlideIndex < totalSlides - 1) {
                    goToSlide(currentSlideIndex + 1);
                } else if (diffY > 0 && currentSlideIndex > 0) {
                    goToSlide(currentSlideIndex - 1);
                } else {
                    goToSlide(currentSlideIndex);
                }
            } else {
                goToSlide(currentSlideIndex);
            }
        }

        function handleClick(e) {
            const clickY = e.clientY;
            const screenHeight = window.innerHeight;
            if (clickY > screenHeight * 0.7 && currentSlideIndex < totalSlides - 1) {
                goToSlide(currentSlideIndex + 1);
            } else if (clickY < screenHeight * 0.3 && currentSlideIndex > 0) {
                goToSlide(currentSlideIndex - 1);
            }
        }

        function handleKeyDown(e) {
            switch(e.key) {
                case 'ArrowDown':
                case ' ':
                    if (currentSlideIndex < totalSlides - 1) goToSlide(currentSlideIndex + 1);
                    break;
                case 'ArrowUp':
                    if (currentSlideIndex > 0) goToSlide(currentSlideIndex - 1);
                    break;
            }
        }

        function handleResize() {
            slideHeight = window.innerHeight;
            updateContainerPosition();
        }

        function getContainerOffset() {
            const transform = window.getComputedStyle(container).transform;
            if (transform === 'none') return 0;
            const matrix = new DOMMatrix(transform);
            return matrix.m42;
        }

        function setContainerOffset(offset) {
            container.style.transform = `translateY(${offset}px)`;
        }

        function updateContainerPosition() {
            const targetOffset = -(currentSlideIndex * slideHeight);
            container.style.transform = `translateY(${targetOffset}px)`;
            container.style.transition = 'transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
        }

        function goToSlide(index) {
            if (index < 0) index = 0;
            if (index >= totalSlides) index = totalSlides - 1;
            currentSlideIndex = index;
            updateContainerPosition();
            updateSlideIndicator();
            if (currentSlideIndex > 0) hideSwipeIndicator();
            
            // Автовоспроизведение видео на 4-м слайде
            if (currentSlideIndex === 3) {
                setTimeout(() => {
                    const video = container.querySelector('#slide-3 .sticker-video');
                    if (video) {
                        video.currentTime = 0;
                        video.play().catch(e => {
                            console.log('Автовоспроизведение заблокировано');
                        });
                    }
                }, 600);
            }
            
            // Автовоспроизведение видео на 5-м слайде
            if (currentSlideIndex === 4) {
                setTimeout(() => {
                    const videos = container.querySelectorAll('#slide-4 video');
                    videos.forEach(video => {
                        video.currentTime = 0;
                        video.play().catch(e => {
                            console.log('Автовоспроизведение заблокировано');
                        });
                    });
                }, 600);
            }
            
            // Автовоспроизведение видео на 8-м слайде
            if (currentSlideIndex === 7) {
                setTimeout(() => {
                    const video = container.querySelector('#slide-7 .video-centered');
                    if (video) {
                        video.currentTime = 0;
                        video.play().catch(e => {
                            console.log('Автовоспроизведение заблокировано');
                        });
                    }
                }, 600);
            }
            
            // Автовоспроизведение видео на 10-м слайде
            if (currentSlideIndex === 9) {
                setTimeout(() => {
                    const video = container.querySelector('#slide-9 .video-centered');
                    if (video) {
                        video.currentTime = 0;
                        video.play().catch(e => {
                            console.log('Автовоспроизведение заблокировано');
                        });
                    }
                }, 600);
            }
        }

        function updateSlideIndicator() {
            slideIndicator.textContent = `${currentSlideIndex + 1}/${totalSlides}`;
        }

        function hideSwipeIndicator() {
            swipeIndicator.style.opacity = '0';
            setTimeout(() => {
                swipeIndicator.style.display = 'none';
            }, 300);
        }

        document.addEventListener('touchstart', () => {});
        document.addEventListener('click', () => {});
        document.addEventListener('keydown', () => {});
    </script>
</body>
</html>